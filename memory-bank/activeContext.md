# アクティブコンテキスト

## 現在の作業フォーカス

Discord Bot Control Centerのコマンド管理機能の改善に取り組んでいます。特に以下の点に焦点を当てています：

1. コマンド作成・編集フローの改善
2. ビジュアルコマンドビルダーの実装
3. インタラクティブプレビュー機能の追加
4. ボット選択UIの改善

## 最近の変更

### 2025/3/14 - コマンド管理機能の大幅改善

1. **ステップバイステップのコマンドウィザード**
   - タブベースのインターフェースから、より直感的なステップバイステップのウィザード形式に変更
   - 進捗状況を視覚的に表示するプログレスインジケーター
   - 各ステップでの入力検証機能
   - API連携をオプション設定の前に配置するフロー変更（ユーザーフィードバックに基づく改善）

2. **ビジュアルコマンドビルダー**
   - コマンドオプションをドラッグ＆ドロップで並べ替え可能
   - オプションタイプごとのアイコン表示
   - リアルタイムのコマンド構文プレビュー
   - 選択したオプションの詳細編集パネル

3. **インタラクティブコマンドプレビュー**
   - Discord風のUIでコマンド実行をシミュレーション
   - コマンドオプションの入力フォーム
   - ボットの応答表示
   - 実際のDiscordでの表示に近い視覚的フィードバック

4. **ボット選択UIの改善**
   - ボットを先に選択してから、そのボット専用のコマンドを表示する方式に変更
   - ボットごとのコマンド数を表示
   - ボット選択画面のカード形式のUIで視認性向上
   - 選択したボットのコマンドのみを表示し、検索フィルターはそのボット内で適用

5. **API連携フローの改善**
   - 基本情報入力時にAPI連携を選択できるように変更
   - API連携に基づいたコマンドオプションの自動提案機能
   - API連携ごとの専用設定パネル
   - API連携の視覚的な選択インターフェース

## アクティブな決定と考慮事項

1. **コマンド作成フロー**
   - ウィザード形式のステップバイステップアプローチを採用
   - 各ステップで必要な情報を明確に示し、ユーザーの混乱を減らす
   - バリデーションを各ステップで行い、エラーをリアルタイムでフィードバック
   - API連携を先に選択することで、後続のステップでの選択肢を最適化

2. **ビジュアルビルダー**
   - 直感的なドラッグ＆ドロップインターフェースでオプションの管理を容易に
   - リアルタイムプレビューでコマンドの構造を視覚化
   - オプションタイプごとのアイコンで視認性を向上

3. **インタラクティブプレビュー**
   - 実際のDiscord環境に近い見た目と操作感
   - コマンド実行のシミュレーションで、ユーザーが最終結果を確認可能
   - オプション入力フォームで、各オプションタイプに適した入力方法を提供

4. **ボット選択UI**
   - ボットを先に選択する方式で、コマンド管理の文脈をより明確に
   - カード形式のUIで視認性と操作性を向上
   - ボットごとのコマンド数を表示して、管理状況を一目で把握可能

5. **API連携フロー**
   - 基本情報入力時にAPI連携を選択することで、ユーザーの意図を早期に把握
   - 選択したAPIに基づいて、適切なオプションやプロンプトを提案
   - API連携の詳細設定を専用ステップで行うことで、設定の複雑さを分離

## 次のステップ

1. **テンプレートベースのコマンド作成UI**
   - 目的別テンプレート選択画面の実装
   - ウィザード形式の設定フローの強化
   - ビジュアルカスタマイズ機能の追加
   - AIアシスタント機能のテンプレート提供

2. **AIアシスタント機能テンプレート**
   - 過去ログ分析アシスタント
   - AI対話アシスタント
   - リンク検索・要約アシスタント
   - 音声認識アシスタント

3. **コマンド実行ログの表示機能**
   - コマンドの実行履歴を表示する機能を追加
   - 成功・失敗のステータスや実行時間などの情報を含める

4. **コマンドのバージョン管理**
   - コマンドの変更履歴を記録・表示する機能
   - 以前のバージョンへのロールバック機能

5. **コマンドのテスト機能**
   - コマンドをDiscordに実際に登録せずにテストできる機能
   - テスト結果のレポート機能
